---
import Page from "@/layouts/Page.astro";
import Gallery from "@/components/Gallery.tsx";
import { getImages } from "@/assets/galary/images";

const images = await getImages({
  densities: [1.5, 2],
  imageTransform: {
    format: "webp",
  },
});

import StudioTitle from "@/components/StudioTitle.astro";
import PlatformIcon from "@/components/platformIcon.astro";
import { ReviewsSection } from "@/components/Reviews.tsx";
import platforms from "@/lib/platforms";
---

<Page
  title="Home"
  description="Guelph audio recording and editing studio"
  currentPage="home"
>
  {/* Hero Section */}
  <div class="text-center">
    <div class="flex justify-center mb-6">
      <StudioTitle size="lg" />
    </div>
    <div class="w-32 h-1 bg-red-500 mx-auto mb-8"></div>

    {/* Social Icons */}
    <div class="flex justify-center gap-6 mb-16">
      <a
        href={platforms.tiktok.href}
        class="text-white hover:text-red-300 transition"
      >
        <PlatformIcon platform="tiktok" text={false} class="w-8 h-8" />
      </a>
      <a
        href={platforms.youtube.href}
        class="text-white hover:text-red-300 transition"
      >
        <PlatformIcon platform="youtube" text={false} class="w-8 h-8" />
      </a>
      <a
        href={platforms.spotify.href}
        class="text-white hover:text-red-300 transition"
      >
        <PlatformIcon platform="spotify" text={false} class="w-8 h-8" />
      </a>
      <a
        href={platforms.instagram.href}
        class="text-white hover:text-red-300 transition"
      >
        <PlatformIcon platform="instagram" text={false} class="w-8 h-8" />
      </a>
      <a
        href={platforms.location.href}
        class="text-white hover:text-red-300 transition"
      >
        <PlatformIcon platform="location" text={false} class="w-8 h-8" />
      </a>
    </div>

    <h2
      class="text-3xl md:text-4xl font-bold mb-12 border-b-2 border-red-500 pb-2 inline-block"
    >
      PROFESSIONAL RECORDING STUDIO IN GUELPH
    </h2>

    {/* Main Navigation Buttons */}
    <div class="grid md:grid-cols-2 gap-6 max-w-4xl mx-auto mb-16">
      <a href="/prices-and-bundles" class="block">
        <div
          class="border border-red-500/50 hover:border-red-500 rounded-lg p-8 transition-all hover:bg-black/20 backdrop-blur-sm"
        >
          <h3 class="text-2xl font-bold mb-2">Prices and Bundles</h3>
          <p class="text-gray-300">View our recording packages and rates</p>
        </div>
      </a>
      <a href="/prices-and-bundles#book-session" class="block">
        <!-- TODO: add call to action, shiny animation or something -->
        <div
          class="border border-red-500/50 hover:border-red-500 rounded-lg p-8 transition-all hover:bg-black/20 backdrop-blur-sm"
        >
          <h3 class="text-2xl font-bold mb-2">Book a Session</h3>
          <p class="text-gray-300">Schedule your recording time</p>
        </div>
      </a>
      <a href="/portfolio" class="block">
        <div
          class="border border-red-500/50 hover:border-red-500 rounded-lg p-8 transition-all hover:bg-black/20 backdrop-blur-sm"
        >
          <h3 class="text-2xl font-bold mb-2">Portfolio</h3>
          <p class="text-gray-300">Listen to our production work</p>
        </div>
      </a>
      <a href="/my-music" class="block">
        <div
          class="border border-red-500/50 hover:border-red-500 rounded-lg p-8 transition-all hover:bg-black/20 backdrop-blur-sm"
        >
          <h3 class="text-2xl font-bold mb-2">My Music</h3>
          <p class="text-gray-300">Listen to my original music</p>
        </div>
      </a>
    </div>

    {/* Gallery Section */}
    <h2
      id="gallery"
      class="text-4xl font-bold mb-8 border-b-2 border-red-500 pb-2 inline-block"
    >
      GALLERY
    </h2>
    <div class="max-w-4xl mx-auto mb-16">
      <Gallery images={images} client:idle />
    </div>

    {/* Location Section */}
    <h2
      id="location"
      class="text-4xl font-bold mb-8 border-b-2 border-red-500 pb-2 inline-block"
    >
      LOCATION
    </h2>
    <div class="max-w-4xl mx-auto mb-16">
      <div
        class="rounded-lg overflow-hidden shadow-lg border border-red-500/30"
      >
        <iframe
          width="100%"
          height="450"
          style="border:0;"
          allowfullscreen=""
          loading="lazy"
          src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d1446.818467179641!2d-80.226072!3d43.509909!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x882bf77fb6007e8b%3A0x81459b0f458033f1!2sMiko%20Recording%20Studio!5e0!3m2!1sen!2sus!4v1746235360629!5m2!1sen!2sus"
          title="Miko Recording Studio Location"
          aria-label="Google Maps showing Miko Recording Studio location"
          referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>
      <div class="mt-4 text-xl">
        <p>502 Kortright Rd W, Guelph, ON</p>
        <p class="mt-2">
          <a
            href="https://maps.google.com/maps?q=Miko+Recording+Studio"
            target="_blank"
            rel="noopener noreferrer"
            class="text-red-300 hover:text-red-400 transition underline"
          >
            Get Directions
          </a>
        </p>
      </div>
    </div>

    {/* Reviews Section - Added under Location */}
    <div class="mb-16">
      <ReviewsSection
        client:visible
        subtitle="See what our clients have to say about their experience"
      />
    </div>
  </div>
  <!-- <LocalBusinessStructuredData /> TODO: research if this is needed for SEO -->
</Page>
